PRAGMA foreing_keys = ON;

CREATE TABLE TB_CURSO (
	ID INTEGER PRIMARY KEY AUTOINCREMENT,
	NOME TEXT NOT NULL
);

CREATE TABLE TB_PROFESSOR (
	ID INTEGER,
	NOME TEXT NOT NULL,
	CURSO_ID INTEGER,
	
	PRIMARY KEY("ID" AUTOINCREMENT),
	FOREIGN KEY(CURSO_ID) REFERENCES TB_CURSO (ID)
);

CREATE TABLE TB_CURSO_PROFESSOR (
	ID INTEGER PRIMARY KEY AUTOINCREMENT,
	CURSO_ID INTEGER,
	PROFESSOR_ID INTEGER,
	
	FOREIGN KEY(CURSO_ID) REFERENCES TB_CURSO (ID),
	FOREIGN KEY(PROFESSOR_ID) REFERENCES TB_PROFESSOR (ID)
);

INSERT INTO TB_CURSO(NOME) 
	VALUES ("Informática"), ("Telecomunicações"), ("Eletrotécnica"), ("Mecânica"),
	("Edificações"), ("Turismo"), ("Química");
	
INSERT INTO TB_PROFESSOR(NOME, CURSO_ID)
	VALUES ("Cesar Olavo", 1), ("Davis Macedo", 1), ("Serra Furtado", 1), 
	("Mauricio Jaborandi", 1), ("Marcos Lemos", 4);
	
INSERT INTO TB_PROFESSOR(NOME) 
	VALUES ("José Roberto"), ("Gloria Marinho");
	
UPDATE TB_PROFESSOR
SET CURSO_ID = 1
WHERE ID = 6;
UPDATE TB_PROFESSOR
SET CURSO_ID = 7
WHERE ID = 7;


INSERT INTO TB_CURSO_PROFESSOR(CURSO_ID, PROFESSOR_ID)
	VALUES (1, 1), (1, 2), (1, 3), (1, 4), (4, 5), (1, 6), (7, 7);
	
SELECT TB_CURSO.NOME , TB_PROFESSOR.NOME 
FROM 
	TB_CURSO
INNER JOIN 
	TB_CURSO_PROFESSOR
INNER JOIN
	TB_PROFESSOR ON TB_CURSO.ID = TB_CURSO_PROFESSOR.CURSO_ID
	AND 
	TB_PROFESSOR.ID = TB_CURSO_PROFESSOR.PROFESSOR_ID;